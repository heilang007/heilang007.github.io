<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: php | My Octopress Blog]]></title>
  <link href="http://heilang007.github.io/blog/categories/php/atom.xml" rel="self"/>
  <link href="http://heilang007.github.io/"/>
  <updated>2015-05-24T10:57:50+08:00</updated>
  <id>http://heilang007.github.io/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[一对多关联模型插入问题]]></title>
    <link href="http://heilang007.github.io/blog/2015/05/24/moxing/"/>
    <updated>2015-05-24T10:52:39+08:00</updated>
    <id>http://heilang007.github.io/blog/2015/05/24/moxing</id>
    <content type="html"><![CDATA[<p>最近一个问题搞了我一天，加了各种群，问了各种“大神”都没解决，只能自己老老实实的解决。
问题是这样的：有个一对多的关联模型，比如一个商品有多张图片，现在在发布商品的时候要进行关联插入。</p>

<h2>手册上有个一对一关联模型数据写入的例子：</h2>

<p><img src="http://www.thinkphp.cn/Uploads/editor/2015-05-21/555dd859d3527.png" alt="image" /></p>

<p>这个一看就懂，但是这是一对一啊，一对多该怎么写呢？手册根本没说，于是我猜测应该这样写：
<code>
$date['Profile']=array(
              array(/*TODO*/),
              array(/*TODO*/)
 );
</code></p>

<p>与是我就这样做了，可是仍然没有成功，我也不知道问题出在哪里？
我随机改变了一下配置打开了页面Trace，可以竟然看不到错误。我很郁闷，我想了想原来是因为我用了$this->error();发生了页面跳转，所以错误信息就看不到了。我随机删掉了跳转语句，看到了SQL语句的错误，竟然是我的一个数据库字段名写错了。改了之后就成功了。
希望对你们有帮助！</p>
]]></content>
  </entry>
  
</feed>
